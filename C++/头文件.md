在C++中编写头文件（.h文件）是组织和管理代码的一种方式，特别是在处理较大的项目时。头文件通常包含类的声明、函数原型、宏定义、常量和其他只需被声明一次的元素。以下是编写头文件的一些基本指导原则和步骤：
### 使用`#pragma once`

在C++中，`#pragma once`是一个预处理指令，用于防止同一个文件被直接或间接的包含（include）多次。这是一种非标准但被广泛支持的方法，用以避免头文件的重复包含和编译问题。

当编译器遇到`#pragma once`指令时，它会记住该头文件已经被包含过，并确保在同一编译单元中不会再次包含该文件。这有助于防止因重复包含同一个文件而引发的定义冲突、重复定义等问题。

**使用`#pragma once`的例子**

假设你有一个名为`example.h`的头文件，你可以这样使用`#pragma once`：
```cpp
#pragma once  
class Example { 
public: 
	void doSomething();
};
```
在这个例子中，无论`example.h`被同一个源文件包含多少次，或者通过其他头文件间接包含多少次，它的内容只会被处理一次。这有助于简化和加速编译过程，同时减少因重复包含导致的错误。

###  声明类和函数

- **==在头文件中声明类，但通常不在此实现类的方法（方法实现应放在相应的.cpp文件中）。==**
- ***静态常量成员***一定要在源文件中进行定义初始化（而不是头文件中）。
- 对于模板类或模板函数，由于模板的特殊性，其定义通常也包含在头文件中。
### 示例头文件

假设我们有一个简单的`Person`类，我们可以这样编写头文件：

**Person.h**

```cpp
#pragma once // 防止头文件重复包含

#include <string> // 包含必要的头文件

// 声明Person类
class Person {
private:
    std::string name; // 成员变量
    int age;
public:
    Person(const std::string& name, int age); // 构造函数
    void setName(const std::string& name); // 设置姓名
    std::string getName() const; // 获取姓名
    void setAge(int age); // 设置年龄
    int getAge() const; // 获取年龄
};
```

### 源文件函数定义

#### 类中的成员函数在对应的源文件中定义时，一定要加上类名作用域

```cpp
//test.h
class CTest {
	void fun();
};

//test.cpp
void CTest::fun();
```

#### 常函数保留const关键字。

```cpp
//test.h
void fun()const;
//test.cpp
void CTest::fun()const {}
```

#### 静态成员函数去掉static 关键字。

```cpp
//test.h
static void fun();
//test.cpp
void CTest::fun() {}
```

#### 虚函数去掉virtual关键字

```cpp
//test.h
virtual void fun();
//test.cpp
void CTest::fun() {}
```

#### 纯虚函数： 不需要实现。
```cpp
//test.h
virtual void fun() = 0;
```