
在C++中，封装是面向对象编程(OOP)的三大基本特征之一，另外两个是[[类之间的关系#继承|继承]]和[[多态]]。封装是指将数据（属性）和操作数据的方法（行为）捆绑在一起的过程，同时限制对对象内部数据的直接访问，以保证对象的完整性和安全性。封装的主要目的是隐藏对象的内部细节，只暴露出一个清晰、简洁的接口给外部使用。

## 封装的实现

在C++中，封装通常通过以下两个步骤实现：

1. **将类的成员变量设为私有（`private`）**：这意味着这些变量不能被类的外部直接访问，只能通过类的方法（成员函数）来访问。这一步是隐藏数据的关键。

2. **提供公有（`public`）方法来访问这些私有变量**：这些方法称为访问器（getter）和修改器（setter）。通过这些公有方法，可以在不暴露类内部实现细节的情况下，控制对类成员变量的访问和修改。

## 封装的好处

- **增加安全性**：通过限制对对象内部数据的直接访问，可以防止外部代码随意修改对象内部的状态，从而避免数据被破坏。
- **提高易用性**：封装使得对象被视为一个黑盒，外部代码不需要知道对象内部的复杂逻辑，只需要通过对象提供的接口进行操作。
- **便于修改和扩展**：由于对象的内部实现对外部是隐藏的，因此在不影响外部代码的情况下，更容易对对象的内部实现进行修改和扩展。

## 封装的示例

```cpp
#include <iostream>
using namespace std;

class Rectangle {
private:
    int width, height; // 私有成员变量

public:
    // 构造函数
    Rectangle(int w, int h) : width(w), height(h) {}

    // 访问器（getter）方法
    int getWidth() const {
        return width;
    }

    int getHeight() const {
        return height;
    }

    // 修改器（setter）方法
    void setWidth(int w) {
        width = w;
    }

    void setHeight(int h) {
        height = h;
    }

    // 公有方法，计算矩形面积
    int area() const {
        return width * height;
    }
};

int main() {
    Rectangle rect(10, 5);
    cout << "Area: " << rect.area() << endl; // 输出: Area: 50

    rect.setWidth(20); // 通过公有方法修改私有成员变量
    cout << "New area: " << rect.area() << endl; // 输出: New area: 100

    return 0;
}
```

在这个示例中，`Rectangle` 类的宽度和高度被设置为私有成员变量，外部代码不能直接访问它们。相反，通过公有方法`setWidth`、`setHeight`、`getWidth`和`getHeight`来修改和访问这些私有变量。这就是封装的一个典型应用。